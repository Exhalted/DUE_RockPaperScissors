var hn=Object.defineProperty;var dn=(e,t,r)=>t in e?hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var c=(e,t,r)=>(dn(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function J(e,t){return Object.assign(Object.create(e.prototype),t)}const we=Symbol("force");function xt(e){e[we]}function g(e){var t;function r(){return t||(t=e(s=>t=s)),t}return new Proxy(Function(),{get(s,i){return i==we&&r(),r()[i]},set(s,i,l){return r()[i]=l,!0},construct(s,i,l){return Reflect.construct(r(),i,l)}})}function bt(e){return e===void 0?null:{$:1,$0:e}}function gt(e,t,r){r?e[t]=r.$0:delete e[t]}let wt=[];function pn(e){wt.push(e)}function $n(){for(var e=0;e<wt.length;e++)wt[e]();wt=[]}function O(e){return"Dispose"in e}function wn(){const e=C.Element("div",[],[C.Element("h1",[],[C.TextNode("Rock Paper Scissors")]),C.Element("button",[R.HandlerImpl("click",()=>()=>Ot({$:0}))],[C.TextNode("Rock")]),C.Element("button",[R.HandlerImpl("click",()=>()=>Ot({$:1}))],[C.TextNode("Paper")]),C.Element("button",[R.HandlerImpl("click",()=>()=>Ot({$:2}))],[C.TextNode("Scissors")]),C.Element("p",[],[C.TextView(me().View)])]);gn(""),C.RunById("main",e)}function Ot(e){me().Set(mn(e,bn()))}function me(){return be.result}function mn(e,t){return e.$==0?t.$==1?"Computer Wins!":t.$==2?"You Win!":"It's a Draw!":e.$==1?t.$==2?"Computer Wins!":t.$==0?"You Win!":"It's a Draw!":t.$==0?"Computer Wins!":t.$==1?"You Win!":"It's a Draw!"}function bn(){const e=Math.floor(Math.random()*3);return e===0?{$:0}:e===1?{$:1}:e===2?{$:2}:(t=>t("Unexpected number"))(F)}function F(e){throw new Error(e)}function _(e){return[e.K,e.V]}function ie(e,t){const r=1+t-e;return r<=0?[]:vr(r,n=>n+e)}let V=g(e=>{var t;return t=class{Equals(n){return this===n}GetHashCode(){return-1}},V=e(t),t}),Qt=g(e=>{var t;return t=class extends V{},Qt=e(t),t}),C=g(e=>{var t;return t=class extends V{constructor(s,i){super();c(this,"docNode");c(this,"updates");this.docNode=s,this.updates=i}static TextNode(s){return C.Mk(Fn(globalThis.document.createTextNode(s)),jt())}static TextView(s){const i=Yn();return C.Mk(Vn(i),Dt(l=>{_n(i,l)},s))}static RunById(s,i){const l=globalThis.document.getElementById(s);b(l,null)?F("invalid id: "+s):C.Run(l,i)}static Element(s,i,l){const o=R.Concat(i),u=C.Concat(l);return Fe.New(globalThis.document.createElement(s),o,u)}static Mk(s,i){return new t(s,i)}static Run(s,i){ve(s,i.docNode),C.RunInPlace(!1,s,i)}static Concat(s){return Xt(C.Empty,C.Append,ht(s))}static RunInPlace(s,i,l){const o=Mn(i,l.docNode);En(Be()||ze()?_r(Ln(s,o,l.docNode)):()=>{tr(s,o,l.docNode)},l.updates)}static Append(s,i){return C.Mk(qn(s.docNode,i.docNode),zt(s.updates,i.updates))}static get Empty(){return C.Mk(null,jt())}},C=e(t),t}),R=g(e=>{var t;return t=class{static HandlerImpl(n,s){return Qn(i=>{i.addEventListener(n,l=>s(i)(l),!1)})}static Concat(n){const s=ht(n);return Xt(Ne(),R.Append,s)}static A3(n){return J(t,{$:3,$0:n})}static Append(n,s){return Kn(n,s)}static A2(n,s){return J(t,{$:2,$0:n,$1:s})}},R=e(t),t}),be=g(e=>{var t;return t=class{},be=e(t),c(t,"result"),t.result=ke.Create_1(""),t});function gn(e){yn()||(Nn(!0),Cn(globalThis.document.body,"")),ot().set_Item(e,Zt(""))}function yn(){return at.LocalTemplatesLoaded}function Nn(e){at.LocalTemplatesLoaded=e}function Cn(e,t){const r=Zt(t),n=new L("New_5"),s=e.querySelectorAll("[ws-template]");for(let d=0,N=s.length-1;d<=N;d++){const f=s[d],p=f.getAttribute("ws-template").toLowerCase();f.removeAttribute("ws-template"),n.set_Item(p,ge(f))}const i=e.querySelectorAll("[ws-children-template]");for(let d=0,N=i.length-1;d<=N;d++){const f=i[d],p=f.getAttribute("ws-children-template").toLowerCase();f.removeAttribute("ws-children-template"),n.set_Item(p,vn(f))}const l=e.querySelectorAll("template[id]");for(let d=0,N=l.length-1;d<=N;d++){const f=l[d];n.set_Item(f.getAttribute("id").toLowerCase(),le(f))}const o=e.querySelectorAll("template[name]");for(let d=0,N=o.length-1;d<=N;d++){const f=o[d];n.set_Item(f.getAttribute("name").toLowerCase(),le(f))}const u=new q("New_3");function h(d){if(!r.ContainsKey(d)){let N;const f=(N=null,[n.TryGetValue(d,{get:()=>N,set:p=>{N=p}}),N]);f[0]?(u.SAdd(d),n.RemoveKey(d),it(t,m(d),f[1],m(h))):console.warn(u.Contains(d)?"Encountered loop when instantiating "+d:"Local template does not exist: "+d)}}for(;n.count>0;)h(br(n.Keys))}function ot(){return at.LoadedTemplates}function Zt(e){let t;const r=(t=null,[ot().TryGetValue(e,{get:()=>t,set:n=>{t=n}}),t]);if(r[0])return r[1];{const n=new L("New_5");return ot().set_Item(e,n),n}}function ge(e){e.removeAttribute("ws-template");const t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");const n=e.parentNode;if(!b(n,null)){const s=globalThis.document.createElement(e.tagName);s.setAttribute("ws-replace",t),n.replaceChild(s,e)}}const r=globalThis.document.createElement("div");return r.appendChild(e),r}function vn(e){const t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function le(e){const t=globalThis.document.createElement("div"),r=e.content;for(let n=0,s=r.childNodes.length-1;n<=s;n++)t.appendChild(r.childNodes[n].cloneNode(!0));return t}function it(e,t,r,n){const s=new q("New_3");function i(f,p){for(;;)switch(f){case 0:if(p!==null){const a=p.nextSibling;b(p.nodeType,Node.TEXT_NODE)?jr(p):b(p.nodeType,Node.ELEMENT_NODE)&&o(p),p=a}else return null;break;case 1:const k=M(p.nodeName,m(3),null).toLowerCase(),S=k.indexOf("."),I=S===-1?[e,k]:[M(k,null,m(S-1)),M(k,m(S+1),null)],y=I[1],T=I[0];if(T!=""&&!ot().ContainsKey(T))return he(y);{T==""&&n!=null&&n.$0(y);const a=ot().Item(T);if(a.ContainsKey(y)){const $=a.Item(y).cloneNode(!0),v=new q("New_3"),G=new L("New_5"),j=p.attributes;for(let U=0,Z=j.length-1;U<=Z;U++){const P=j.item(U).name.toLowerCase(),H=j.item(U).nodeValue;let Y=H==""?P:H.toLowerCase();G.set_Item(P,Y),v.SAdd(P)||console.warn("Hole mapped twice",P)}for(let U=0,Z=p.childNodes.length-1;U<=Z;U++){const P=p.childNodes[U];b(P.nodeType,Node.ELEMENT_NODE)&&(v.SAdd(P.nodeName.toLowerCase())||console.warn("Hole filled twice",y))}const se=p.childNodes.length===1&&b(p.firstChild.nodeType,Node.TEXT_NODE);if(se){const U=Kr($,p.firstChild.textContent,y),Z=(H=>Y=>H.SAdd(Y))(v);(H=>Y=>{Y!=null&&H(Y.$0)})(H=>{Z(H)})(U)}if(Wr($,v),!se)for(let U=0,Z=p.childNodes.length-1;U<=Z;U++){const P=p.childNodes[U];b(P.nodeType,Node.ELEMENT_NODE)&&(P.hasAttributes()?Hr($,P):l($,P))}Rr($,G),de($,p.parentNode,p),p.parentNode.removeChild(p);return}else return he(y)}}}function l(f,p){const k=p.nodeName.toLowerCase(),S=(y,T)=>{if(k=="title"&&p.hasChildNodes()){const a=Tn(p.textContent);for(p.removeChild(p.firstChild);a.hasChildNodes();)p.appendChild(a.firstChild)}return o(p),de(p,y,T)};W(f,"[ws-attr-holes]",y=>{const T=X(y.getAttribute("ws-attr-holes"),[" "],1);for(let a=0,w=T.length-1;a<=w;a++){const $=E(T,a);let v=new RegExp("\\${"+k+"}","ig"),G=y.getAttribute($).replace(v,p.textContent);y.setAttribute($,G)}});const I=f.querySelector("[ws-hole="+k+"]");if(b(I,null)){const y=f.querySelector("[ws-replace="+k+"]");if(b(y,null)){const T=f.querySelector("slot[name="+k+"]");return f.tagName.toLowerCase()=="template"?(S(T.parentNode,T),void T.parentNode.removeChild(T)):null}else{S(y.parentNode,y),y.parentNode.removeChild(y);return}}else{for(;I.hasChildNodes();)I.removeChild(I.lastChild);return I.removeAttribute("ws-hole"),S(I,null)}}function o(f){f.hasAttribute("ws-preserve")||(Rt(f.nodeName.toLowerCase(),"ws-")?h(f):(Ke(f),u(f.firstChild)))}function u(f){return i(0,f)}function h(f){return i(1,f)}function d(f){for(;;){const p=f.querySelector("[ws-template]");if(b(p,null)){const k=f.querySelector("[ws-children-template]");if(b(k,null)){const S=f.querySelectorAll("template[id]");for(let y=1,T=S.length-1;y<=T;y++){const a=S[y];s.Contains(a)||(it(e,m(a.getAttribute("id")),a,null),s.SAdd(a))}const I=f.querySelectorAll("template[name]");for(let y=1,T=I.length-1;y<=T;y++){const a=I[y];s.Contains(a)||(it(e,m(a.getAttribute("name")),a,null),s.SAdd(a))}return null}else{const S=k.getAttribute("ws-children-template");k.removeAttribute("ws-children-template"),it(e,m(S),k,null),f=f}}else{const k=p.getAttribute("ws-template");An(e,m(k),p)(null),f=f}}}const N=(t==null?"":t.$0).toLowerCase();Zt(e).set_Item(N,r),r.hasChildNodes()&&(d(r),u(r.firstChild))}function W(e,t,r){Un(e,t,n=>{n.closest("[ws-preserve]")==null&&r(n)})}function An(e,t,r){const n=ge(r);return s=>{it(e,t,n,s)}}function yt(){return at.TextHoleRE}function jt(e){const t={s:It(e)};return()=>t}function Dt(e,t){return ye(()=>hr(e,t()))}function ye(e){const t={c:null,o:e};return()=>{let r=t.c;if(r===null){r=t.o(),t.c=r;const n=r.s;return n!=null&&n.$==0?t.o=null:De(r,()=>{t.c=null}),r}else return r}}function En(e,t){function r(){dr(t(),e,()=>{tt().Fork(r)})}tt().Fork(r)}function zt(e,t){return ye(()=>$r(e(),t()))}function Tn(e){const t=globalThis.document.createElement("div");if(kn().test(e)){let o=function(u,h){for(;;){if(h===0)return u;{const d=h;u=u.lastChild,h=d-1}}};var r=o;const n=In().exec(e),s=b(n,null)?"":E(n,1).toLowerCase(),i=xn()[s],l=i||Dn();return t.innerHTML=l[1]+e.replace(Sn(),"<$1></$2>")+l[2],o(t,l[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function kn(){return rt.rhtml}function xn(){return rt.wrapMap}function Dn(){return rt.defaultWrap}function Sn(){return rt.rxhtmlTag}function In(){return rt.rtagName}function Un(e,t,r){const n=e.querySelectorAll(t);for(let s=0,i=n.length-1;s<=i;s++)r(n[s])}function Gn(e,t,r){let n;if(r.parentNode===e){const s=r.nextSibling;let i=b(s,null)?null:s;n=t===i}else n=!1;n||e.insertBefore(r,t)}function Pn(e,t){t.parentNode===e&&e.removeChild(t)}function Fn(e){return{$:5,$0:e}}function Vn(e){return{$:4,$0:e}}function On(e){return{$:1,$0:e}}function qn(e,t){return{$:0,$0:e,$1:t}}function Qn(e){return R.A3(e)}function jn(e){return Sr(t=>t.NChanged,jt(),zt,e.DynNodes)}function Kn(e,t){if(e===null)return t;if(t===null)return e;{const r=R.A2(e,t);return Hn(r,Kt(e)|Kt(t)),r}}function Ne(){return x.EmptyAttr}function Wn(e,t){const r=[],n=[];function s(o){for(;;)if(o!==null){if(o!=null&&o.$==1)return r.push(o.$0);if(o!=null&&o.$==2){const u=o.$1,h=o.$0;s(h),o=u}else return o!=null&&o.$==3?o.$0(e):o!=null&&o.$==4?n.push(o.$0):null}else return null}s(t);const i=r.slice(0);return Mr(e,Kt(t),i,n.length===0?null:m(o=>{yr(u=>{u(o)},n)}))}function Hn(e,t){e.flags=t}function Kt(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function Rn(e){return(e.DynFlags&2)===2}function Bn(e){return Jt(e,(t,r)=>t.NGetExitAnim(r))}function Zn(e){return(e.DynFlags&1)===1}function zn(e){return Jt(e,(t,r)=>t.NGetEnterAnim(r))}function Jn(e){return(e.DynFlags&4)===4}function Xn(e){return Jt(e,(t,r)=>t.NGetChangeAnim(r))}function Jt(e,t){return Pt(nt(r=>t(r,e.DynElem),e.DynNodes))}function Ce(e,t){Q(r=>{r.NSync(e)},t.DynNodes)}function Yn(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function _n(e,t){e.Value=t,e.Dirty=!0}function ve(e,t){Nt(e,t,null)}function Nt(e,t,r){for(;;){if(t!=null&&t.$==1)return $t(e,t.$0.El,r);if(t!=null&&t.$==2){const n=t.$0;n.Dirty=!1,t=n.Current}else{if(t==null)return r;if(t!=null&&t.$==4)return $t(e,t.$0.Text,r);if(t!=null&&t.$==5)return $t(e,t.$0,r);if(t!=null&&t.$==6)return je((n,s)=>(i=>l=>o=>l==null||l.constructor===Object?Nt(i,l,o):$t(i,l,o))(e)(n)(s),t.$0.Els,r);{const n=t.$1;t=t.$0,r=Nt(e,n,r)}}}}function Mn(e,t){return rs(ss(),Ae(e,Ne(),t))}function Ln(e,t,r){return Be()?te(()=>{const n=Je(r),s=rr(t,n),i=nr(t,n);return lt(pe(Xr(s,er(t,n))),()=>lt(oe(e,t),()=>lt(pe(i),()=>(t.PreviousNodes=n,Ft(null)))))}):oe(e,t)}function tr(e,t,r){const n=Je(r);ut(e,t.Top),t.PreviousNodes=n}function Ae(e,t,r){ve(e,r);const n=Wn(e,t);return Wt.New(n,r,null,e,Ve(),bt(n.OnAfterRender))}function $t(e,t,r){return Gn(e,r,t),t}function oe(e,t){if(ze()){const r=n=>{requestAnimationFrame(()=>{ut(e,t.Top),n()})};return Ye((n,s,i)=>r.apply(null,[n,s,i]))}else return ut(e,t.Top),Ft(null)}function er(e,t){return Pt(nt(r=>Bn(r.Attr),Lt(Xe(t,Mt(r=>Rn(r.Attr),e.PreviousNodes)))))}function nr(e,t){return Pt(nt(r=>zn(r.Attr),Lt(Xe(e.PreviousNodes,Mt(r=>Zn(r.Attr),t)))))}function rr(e,t){const r=s=>Jn(s.Attr),n=s=>Mt(r,s);return Pt(nt(s=>Xn(s.Attr),Lt(is(n(e.PreviousNodes),n(t)))))}function ut(e,t){e||sr(t),Ee(t.Children),Te(t)}function sr(e){function t(r){function n(s){for(;;)if(s!=null&&s.$==0){const i=s.$1,l=s.$0;if(n(l))return!0;s=i}else if(s!=null&&s.$==2){const i=s.$0;if(i.Dirty)return!0;s=i.Current}else if(s!=null&&s.$==6){const i=s.$0;return i.Dirty||Oe(t,i.Holes)}else return!1}return n(r.Children)}Ce(e.El,e.Attr),t(e)&&ir(e)}function Ee(e){for(;;){if(e!=null&&e.$==1)return ut(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null)return null;if(e!=null&&e.$==5)return null;if(e!=null&&e.$==4){const t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){const t=e.$0;return Q(r=>{ut(!1,r)},t.Holes),Q(r=>{Ce(r[0],r[1])},t.Attrs),Te(t)}else{const t=e.$1,r=e.$0;Ee(r),e=t}}}}function Te(e){const t=bt(e.Render);t!=null&&t.$==1&&(t.$0(e.El),gt(e,"Render",null))}function ir(e){const t=e.El;function r(l,o){for(;;){if(l!=null&&l.$==1)return l.$0.El;if(l!=null&&l.$==2){const u=l.$0;if(u.Dirty)return u.Dirty=!1,Nt(t,u.Current,o);l=u.Current}else{if(l==null)return o;if(l!=null&&l.$==4)return l.$0.Text;if(l!=null&&l.$==5)return l.$0;if(l!=null&&l.$==6){const u=l.$0;return u.Dirty&&(u.Dirty=!1),je((h,d)=>h==null||h.constructor===Object?r(h,d):h,u.Els,o)}else{const u=l.$1;l=l.$0,o=r(u,o)}}}}const n=e.El;Xs(l=>{Pn(n,l)},Js(Ys(e),zs(e.El,bt(e.Delimiters))));let s=e.Children;const i=bt(e.Delimiters);r(s,i!=null&&i.$==1?i.$0[1]:null)}let ke=g(e=>{var t;return t=class extends V{static Create_1(n){return new Ge(!1,{s:Ut(n,[])},n)}},ke=e(t),t});function lr(e){let t=[];for(var r in e)t.push(e[r]);return t}let L=g(e=>{var r;return r=class extends V{constructor(i,l,o,u){var s=(...t)=>(super(...t),c(this,"equals"),c(this,"hash"),c(this,"count"),c(this,"data"),this);if(i=="New_5"&&(i="New_6",l=[],o=b,u=ct),i=="New_6"){const h=l,d=o,N=u;s(),this.equals=d,this.hash=N,this.count=0,this.data=[];const f=D(h);try{for(;f.MoveNext();){const p=f.Current;this.set(p.K,p.V)}}finally{typeof f=="object"&&O(f)&&f.Dispose()}}}set_Item(i,l){this.set(i,l)}ContainsKey(i){const l=this.data[this.hash(i)];return l==null?!1:Oe(o=>this.equals.apply(null,[_(o)[0],i]),l)}TryGetValue(i,l){const o=this.data[this.hash(i)];if(o==null)return!1;{const u=qe(h=>{const d=_(h);return this.equals.apply(null,[d[0],i])?m(d[1]):null},o);return u!=null&&u.$==1&&(l.set(u.$0),!0)}}RemoveKey(i){return this.remove(i)}get Keys(){return new Re(this)}set(i,l){const o=this.hash(i),u=this.data[o];if(u==null)this.count=this.count+1,this.data[o]=new Array({K:i,V:l});else{const h=Gr(d=>this.equals.apply(null,[_(d)[0],i]),u);h==null?(this.count=this.count+1,u.push({K:i,V:l})):u[h.$0]={K:i,V:l}}}remove(i){const l=this.hash(i),o=this.data[l];if(o==null)return!1;{const u=dt(h=>!this.equals.apply(null,[_(h)[0],i]),o);return A(u)<o.length&&(this.count=this.count-1,this.data[l]=u,!0)}}Item(i){return this.get(i)}get(i){const l=this.data[this.hash(i)];return l==null?Ur():Pr(o=>{const u=_(o);return this.equals.apply(null,[u[0],i])?m(u[1]):null},l)}GetEnumerator(){return Br(Vr(lr(this.data)))}static New_5(){return new this("New_5")}static New_6(i,l,o){return new this("New_6",i,l,o)}},L=e(r),r});function b(e,t){if(e===t)return!0;{const s=typeof e;if(s=="object"){if(e==null||t===null||t===void 0||!b(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return ue(e,t);if(e instanceof Date&&t instanceof Date)return or(e,t);{const i=[!0];for(var r in e)if((l=>(i[0]=!e.hasOwnProperty(l)||t.hasOwnProperty(l)&&b(e[l],t[l]),!i[0]))(r))break;if(i[0]){for(var n in t)if((l=>(i[0]=!t.hasOwnProperty(l)||e.hasOwnProperty(l),!i[0]))(n))break}return i[0]}}else return s=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&ue(e.$Invokes,t.$Invokes))}}function ue(e,t){let r,n;if(A(e)===A(t)){for(r=!0,n=0;r&&n<A(e);)b(E(e,n),E(t,n))||(r=!1),n=n+1;return r}else return!1}function or(e,t){return e.getTime()===t.getTime()}function ct(e){const t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?xe(e):t=="object"?e==null?0:e instanceof Array?ur(e):cr(e):0}function xe(e){let t;if(e===null)return 0;t=5381;for(let r=0,n=e.length-1;r<=n;r++)t=Ct(t,e[r].charCodeAt());return t}function ur(e){let t=-34948909;for(let r=0,n=A(e)-1;r<=n;r++)t=Ct(t,ct(E(e,r)));return t}function cr(e){if("GetHashCode"in e)return e.GetHashCode();{const r=[0];for(var t in e)(n=>(r[0]=Ct(Ct(r[0],xe(n)),ct(e[n])),!1))(t);return r[0]}}function Ct(e,t){return(e<<5)+e+t}function St(e,t){if(e===t)return 0;{const s=typeof e;switch(s=="function"?1:s=="boolean"||s=="number"||s=="string"?2:s=="object"?3:0){case 0:return typeof t>"u"?0:-1;case 1:return F("Cannot compare function values.");case 2:return e<t?-1:1;case 3:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return ar(e,t);if(e instanceof Date&&t instanceof Date)return fr(e,t);{const i=[0];for(var r in e)if((l=>e.hasOwnProperty(l)?t.hasOwnProperty(l)?(i[0]=St(e[l],t[l]),i[0]!==0):(i[0]=1,!0):!1)(r))break;if(i[0]===0){for(var n in t)if((l=>t.hasOwnProperty(l)?!e.hasOwnProperty(l)&&(i[0]=-1,!0):!1)(n))break}return i[0]}}}}function ar(e,t){let r,n;if(A(e)<A(t))return-1;if(A(e)>A(t))return 1;for(r=0,n=0;r===0&&n<A(e);)r=St(E(e,n),E(t,n)),n=n+1;return r}function fr(e,t){return St(e.getTime(),t.getTime())}g(e=>{var t;return t=class{},e(t),t});function hr(e,t){const r=t.s;if(r!=null&&r.$==0)return{s:It(e(r.$0))};{const n={s:Yt([],[])};return vt(t,s=>{Se(n,t,e(s))},n),n}}function De(e,t){const r=e.s;r==null?t():(r!=null&&r.$==2||r!=null&&r.$==3)&&r.$1.push(t)}function vt(e,t,r){const n=e.s;n==null?Gt(r):n!=null&&n.$==2?(At(n.$1,r),t(n.$0)):n!=null&&n.$==3?(n.$0.push(t),At(n.$1,r)):t(n.$0)}function Se(e,t,r){const n=t.s;n!=null&&n.$==0?Ie(e,r):Ue(e,r)}function At(e,t){if(e.push(t),e.length%20===0){const r=e.slice(0);Qs(e);for(let n=0,s=A(r)-1;n<=s;n++){const i=E(r,n);typeof i=="object"?(l=>{l.s&&e.push(l)})(i):(l=>{e.push(l)})(i)}}}function Ie(e,t){const r=e.s;if(r!=null&&r.$==3){e.s=It(t);const n=r.$0;for(let s=0,i=A(n)-1;s<=i;s++)E(n,s)(t)}}function Ue(e,t){const r=e.s;if(r!=null&&r.$==3){e.s=Ut(t,r.$1);const n=r.$0;for(let s=0,i=A(n)-1;s<=i;s++)E(n,s)(t)}}function dr(e,t,r){const n=e.s;n==null?r():n!=null&&n.$==2?(n.$1.push(r),t(n.$0)):n!=null&&n.$==3?(n.$0.push(t),n.$1.push(r)):t(n.$0)}function pr(e){const t=e.s;if(t==null)return e;if(t!=null&&t.$==2){const r={s:Ut(t.$0,[])};return wr(e,r),r}else if(t!=null&&t.$==3){const r={s:Yt([],[])};return vt(e,n=>{Se(r,e,n)},r),r}else return e}function $r(e,t){const r=e.s,n=t.s;if(r!=null&&r.$==0)return n!=null&&n.$==0?{s:It(null)}:t;if(n!=null&&n.$==0)return e;{const s={s:Yt([],[])},i=()=>{const l=s.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){const o=ce(e),u=ce(t);o!=null&&o.$==1&&u!=null&&u.$==1&&(o.$0[1]&&u.$0[1]?Ie(s,null):Ue(s,null))}};return vt(e,i,s),vt(t,i,s),s}}function wr(e,t){const r=e.s;r==null?Gt(t):(r!=null&&r.$==2||r!=null&&r.$==3)&&At(r.$1,t)}function ce(e){const t=e.s;return t!=null&&t.$==0?m([t.$0,!0]):t!=null&&t.$==2?m([t.$0,!1]):null}let Ge=g(e=>{var t;return xt(Qt),t=class extends Qt{constructor(s,i,l){super();c(this,"isConst");c(this,"current");c(this,"snap");c(this,"view");c(this,"id");this.isConst=s,this.current=l,this.snap=i,this.view=()=>this.snap,this.id=Ve()}get View(){return this.view}Set(s){this.isConst?(i=>i("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(i=>{console.log(i)}):(Gt(this.snap),this.current=s,this.snap={s:Ut(s,[])})}Get(){return this.current}UpdateMaybe(s){const i=s(this.Get());i!=null&&i.$==1&&this.Set(i.$0)}},Ge=e(t),t}),at=g(e=>{var t;return t=class{},at=e(t),c(t,"RenderedFullDocTemplate"),c(t,"TextHoleRE"),c(t,"GlobalHoles"),c(t,"LocalTemplatesLoaded"),c(t,"LoadedTemplates"),t.LoadedTemplates=new L("New_5"),t.LocalTemplatesLoaded=!1,t.GlobalHoles=new L("New_5"),t.TextHoleRE="\\${([^}]+)}",t.RenderedFullDocTemplate=null,t});function E(e,t){return Pe(e,t),e[t]}function Pe(e,t){(t<0||t>=e.length)&&F("Index was outside the bounds of the array.")}function A(e){return e.dims===2?e.length*e.length:e.length}function mr(e,t,r){Pe(e,t),e[t]=r}let q=g(e=>{var r;return r=class extends V{constructor(i,l,o,u){var s=(...t)=>(super(...t),c(this,"equals"),c(this,"hash"),c(this,"data"),c(this,"count"),this);i=="New_3"&&(i="New_4",l=[],o=b,u=ct);let h;if(i=="New_2"&&(h=l,i="New_4",l=h,o=b,u=ct),i=="New_4"){const d=l,N=o,f=u;s(),this.equals=N,this.hash=f,this.data=[],this.count=0;const p=D(d);try{for(;p.MoveNext();)this.add(p.Current)}finally{typeof p=="object"&&O(p)&&p.Dispose()}}}SAdd(i){return this.add(i)}Contains(i){const l=this.data[this.hash(i)];return l==null?!1:this.arrContains(i,l)}add(i){const l=this.hash(i),o=this.data[l];return o==null?(this.data[l]=[i],this.count=this.count+1,!0):this.arrContains(i,o)?!1:(o.push(i),this.count=this.count+1,!0)}arrContains(i,l){let o=!0,u=0;const h=l.length;for(;o&&u<h;)this.equals.apply(null,[l[u],i])?o=!1:u=u+1;return!o}GetEnumerator(){return D(qt(this.data))}ExceptWith(i){const l=D(i);try{for(;l.MoveNext();)this.Remove(l.Current)}finally{typeof l=="object"&&O(l)&&l.Dispose()}}get Count(){return this.count}IntersectWith(i){const l=new q("New_4",i,this.equals,this.hash),o=qt(this.data);for(let u=0,h=o.length-1;u<=h;u++){const d=o[u];l.Contains(d)||this.Remove(d)}}Remove(i){const l=this.data[this.hash(i)];return l==null?!1:this.arrRemove(i,l)&&(this.count=this.count-1,!0)}CopyTo(i,l){const o=qt(this.data);for(let u=0,h=o.length-1;u<=h;u++)mr(i,u+l,o[u])}arrRemove(i,l){let o=!0,u=0;const h=l.length;for(;o&&u<h;)this.equals.apply(null,[l[u],i])?(l.splice(u,1),o=!1):u=u+1;return!o}static New_3(){return new this("New_3")}static New_4(i,l,o){return new this("New_4",i,l,o)}static New_2(i){return new this("New_2",i)}},q=e(r),r});function m(e){return{$:1,$0:e}}function br(e){const t=D(e);try{return t.MoveNext()?t.Current:Ht()}finally{typeof t=="object"&&O(t)&&t.Dispose()}}function gr(e,t,r){let n=t;const s=D(r);try{for(;s.MoveNext();)n=e(n,s.Current);return n}finally{typeof s=="object"&&O(s)&&s.Dispose()}}function yr(e,t){const r=D(t);try{for(;r.MoveNext();)e(r.Current)}finally{typeof r=="object"&&O(r)&&r.Dispose()}}function ae(e){return{GetEnumerator:()=>D(e())}}function Nr(e,t){return Cr(ft(e,t))}function ft(e,t){return{GetEnumerator:()=>{const r=D(t);return new B(null,null,n=>r.MoveNext()&&(n.c=e(r.Current),!0),()=>{r.Dispose()})}}}function Cr(e){return{GetEnumerator:()=>{const t=D(e);function r(n){for(;;){const s=n.s;if(b(s,null))if(t.MoveNext())n.s=D(t.Current),n=n;else return t.Dispose(),!1;else{if(s.MoveNext())return n.c=s.Current,!0;n.Dispose(),n.s=null,n=n}}}return new B(null,null,r,n=>{const s=n.s;b(s,null)||s.Dispose(),b(t,null)||t.Dispose()})}}}function vr(e,t){return Er(e,Tr(t))}function Ar(e){const t=D(e);try{t.MoveNext()||xr();let r=t.Current;for(;t.MoveNext();){const n=t.Current;St(n,r)===1&&(r=n)}return r}finally{typeof t=="object"&&O(t)&&t.Dispose()}}function Er(e,t){return e<0&&zr(),{GetEnumerator:()=>{const r=[D(t)];return new B(0,null,n=>{if(n.s=n.s+1,n.s>e)return!1;{const s=r[0];return b(s,null)?Ht():s.MoveNext()?(n.c=s.Current,n.s===e&&(s.Dispose(),r[0]=null),!0):(s.Dispose(),r[0]=null,Ht())}},()=>{const n=r[0];b(n,null)||n.Dispose()})}}}function Tr(e){return{GetEnumerator:()=>new B(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function kr(e,t){return!Dr(r=>!e(r),t)}function xr(){return F("The input sequence was empty.")}function Dr(e,t){const r=D(t);try{let n=!1;for(;!n&&r.MoveNext();)n=e(r.Current);return n}finally{typeof r=="object"&&O(r)&&r.Dispose()}}g(e=>{var t;return t=class extends V{},e(t),t});let Fe=g(e=>{var t;return xt(C),t=class extends C{constructor(s,i,l,o){super(s,i);c(this,"docNode_1");c(this,"updates_1");c(this,"elt");c(this,"rvUpdates");this.docNode_1=s,this.updates_1=i,this.elt=l,this.rvUpdates=o}static New(s,i,l){const o=Ae(s,i,l.docNode),u=mt.Create(l.updates);return new t(On(o),zt(jn(o.Attr),u.v),s,u)}},Fe=e(t),t});function ht(e){if(e instanceof Array)return e;if(e instanceof _t)return Qe(e);if(e===null)return[];{const t=[],r=D(e);try{for(;r.MoveNext();)t.push(r.Current);return t}finally{typeof r=="object"&&O(r)&&r.Dispose()}}}function Xt(e,t,r){const n=A(r);function s(i){return l=>{switch(l<=0?0:l===1&&i>=0&&i<n?1:2){case 0:return e;case 1:return E(r,i);case 2:const o=l/2>>0;return t(s(i)(o),s(i+o)(l-o))}}}return s(0)(n)}function Sr(e,t,r,n){const s=A(n);function i(l){return o=>{switch(o<=0?0:o===1&&l>=0&&l<s?1:2){case 0:return t;case 1:return e(E(n,l));case 2:const u=o/2>>0;return r(i(l)(u),i(l+u)(o-u))}}}return i(0)(s)}let Wt=g(e=>{var t;return t=class{constructor(){c(this,"Attr");c(this,"Children");c(this,"Delimiters");c(this,"El");c(this,"ElKey");c(this,"Render")}Equals(n){return this.ElKey===n.ElKey}GetHashCode(){return this.ElKey}static New(n,s,i,l,o,u){const h={Attr:n,Children:s,El:l,ElKey:o};let d=(gt(h,"Delimiters",i),gt(h,"Render",u),h);return J(Wt,d)}},Wt=e(t),t});function It(e){return{$:0,$0:e}}function Ut(e,t){return{$:2,$0:e,$1:t}}function Yt(e,t){return{$:3,$0:e,$1:t}}function Gt(e){let t;const r=e.s;if(!(r==null||(!(r!=null&&r.$==2||r!=null&&r.$==3)||(t=r.$1,!1)))){e.s=null;for(let n=0,s=A(t)-1;n<=s;n++){const i=E(t,n);typeof i=="object"?(l=>{Gt(l)})(i):i()}}}function Ve(){return Ir(fe()+1),fe()}function Ir(e){ee.counter=e}function fe(){return ee.counter}g(e=>{var t;return t=class extends V{},e(t),t});function Ur(){throw new rn("New")}function Oe(e,t){let r=!1,n=0;for(;!r&&n<A(t);)e(t[n])?r=!0:n=n+1;return r}function qe(e,t){let r=null,n=0;for(;n<t.length&&r==null;){const s=e(t[n]);s!=null&&s.$==1&&(r=s),n=n+1}return r}function Gr(e,t){let r=null,n=0;for(;n<t.length&&r==null;)e(t[n])&&(r=m(n)),n=n+1;return r}function Qe(e){const t=[];let r=e;for(;r.$!=0;)t.push(bs(r)),r=gs(r);return t}function dt(e,t){const r=[];for(let n=0,s=t.length-1;n<=s;n++)e(t[n])&&r.push(t[n]);return r}function nt(e,t){const r=new Array(t.length);for(let n=0,s=t.length-1;n<=s;n++)r[n]=e(t[n]);return r}function Q(e,t){for(let r=0,n=t.length-1;r<=n;r++)e(t[r])}function je(e,t,r){let n=r;const s=t.length;for(let i=1,l=s;i<=l;i++)n=e(t[s-i],n);return n}function Pr(e,t){const r=qe(e,t);return r==null?F("KeyNotFoundException"):r.$0}function Et(e){if(e instanceof Array)return e.slice();if(e instanceof _t)return Qe(e);{const t=[],r=D(e);try{for(;r.MoveNext();)t.push(r.Current);return t}finally{typeof r=="object"&&O(r)&&r.Dispose()}}}function Fr(e,t){const r=[];for(let n=0,s=t.length-1;n<=s;n++){const i=e(t[n]);i==null||r.push(i.$0)}return r}function Vr(e){return Array.prototype.concat.apply([],Et(e))}function Or(e,t){const r=new Array(e);for(let n=0,s=e-1;n<=s;n++)r[n]=t;return r}function qr(e,t){e<0&&F("Negative size given.");const r=new Array(e);for(let n=0,s=e-1;n<=s;n++)r[n]=t(n);return r}function Qr(e,t){let r=!0,n=0;for(;r&&n<A(t);)e(t[n])?n=n+1:r=!1;return r}function jr(e){let t=null,r=0;const n=e.textContent,s=new RegExp(yt(),"g");for(;t=s.exec(n),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode(M(n,m(r),m(s.lastIndex-E(t,0).length-1))),e),r=s.lastIndex;const i=globalThis.document.createElement("span");i.setAttribute("ws-replace",E(t,1).toLowerCase()),e.parentNode.insertBefore(i,e)}s.lastIndex=0,e.textContent=M(n,m(r),null)}function he(e){console.warn("Instantiating non-loaded template",e)}function Kr(e,t,r){const n=e.querySelector("[ws-replace]");return b(n,null)?(console.warn("Filling non-existent text hole",r),null):(n.parentNode.replaceChild(globalThis.document.createTextNode(t),n),m(n.getAttribute("ws-replace")))}function Wr(e,t){const r=n=>{W(e,"["+n+"]",s=>{t.Contains(s.getAttribute(n))||s.removeAttribute(n)})};r("ws-attr"),r("ws-onafterrender"),r("ws-var"),W(e,"[ws-hole]",n=>{if(!t.Contains(n.getAttribute("ws-hole")))for(n.removeAttribute("ws-hole");n.hasChildNodes();)n.removeChild(n.lastChild)}),W(e,"[ws-replace]",n=>{t.Contains(n.getAttribute("ws-replace"))||n.parentNode.removeChild(n)}),W(e,"[ws-on]",n=>{n.setAttribute("ws-on",Tt(" ",dt(s=>t.Contains(E(X(s,[":"],1),1)),X(n.getAttribute("ws-on"),[" "],1))))}),W(e,"[ws-attr-holes]",n=>{const s=X(n.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++){const o=E(s,i);let u=new RegExp(yt(),"g"),h=n.getAttribute(o).replace(u,(d,N)=>t.Contains(N)?d:"");n.setAttribute(o,h)}})}function Hr(e,t){Ke(t);const r=t.nodeName.toLowerCase(),n=e.querySelector("[ws-attr="+r+"]");if(b(n,null))console.warn("Filling non-existent attr hole",r);else{n.removeAttribute("ws-attr");for(let s=0,i=t.attributes.length-1;s<=i;s++){const l=t.attributes.item(s);l.name=="class"&&n.hasAttribute("class")?n.setAttribute("class",n.getAttribute("class")+" "+l.nodeValue):n.setAttribute(l.name,l.nodeValue)}}}function Rr(e,t){const r=n=>{W(e,"["+n+"]",s=>{let i;const l=(i=null,[t.TryGetValue(s.getAttribute(n).toLowerCase(),{get:()=>i,set:o=>{i=o}}),i]);l[0]&&s.setAttribute(n,l[1])})};r("ws-hole"),r("ws-replace"),r("ws-attr"),r("ws-onafterrender"),r("ws-var"),W(e,"[ws-on]",n=>{n.setAttribute("ws-on",Tt(" ",nt(s=>{let i;const l=X(s,[":"],1),o=(i=null,[t.TryGetValue(E(l,1),{get:()=>i,set:u=>{i=u}}),i]);return o[0]?E(l,0)+":"+o[1]:s},X(n.getAttribute("ws-on"),[" "],1))))}),W(e,"[ws-attr-holes]",n=>{const s=X(n.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++)(()=>{const o=E(s,i);return n.setAttribute(o,gr((u,h)=>{const d=_(h);return u.replace(new RegExp("\\${"+d[0]+"}","ig"),"${"+d[1]+"}")},n.getAttribute(o),t))})()})}function de(e,t,r){for(;;)if(e.hasChildNodes())r=t.insertBefore(e.lastChild,r);else return null}function Ke(e){const t=e.attributes,r=[],n=[],s=[];for(let l=0,o=t.length-1;l<=o;l++){const u=t.item(l);if(Rt(u.nodeName,"ws-on")&&u.nodeName!="ws-onafterrender"&&u.nodeName!="ws-on")r.push(u.nodeName),n.push(M(u.nodeName,m(5),null)+":"+u.nodeValue.toLowerCase());else if(!Rt(u.nodeName,"ws-")&&new RegExp(yt()).test(u.nodeValue)){let h=new RegExp(yt(),"g"),d=u.nodeValue.replace(h,(N,f)=>"${"+f.toLowerCase()+"}");u.nodeValue=d,s.push(u.nodeName)}}n.length!=0&&e.setAttribute("ws-on",Tt(" ",n)),s.length!=0&&e.setAttribute("ws-attr-holes",Tt(" ",s));const i=l=>{const o=e.getAttribute(l);o==null||e.setAttribute(l,o.toLowerCase())};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),Q(l=>{e.removeAttribute(l)},r)}function M(e,t,r){if(t==null)if(r!=null&&r.$==1){const n=r.$0;return n<0?"":e.slice(0,n+1)}else return"";else{if(r==null)return e.slice(t.$0);{const n=r.$0;return n<0?"":e.slice(t.$0,n+1)}}}function D(e){return e instanceof Array?We(e):b(typeof e,"string")?He(e):e.GetEnumerator()}function We(e){return new B(0,null,t=>{const r=t.s;return r<A(e)&&(t.c=E(e,r),t.s=r+1,!0)},void 0)}function He(e){return new B(0,null,t=>{const r=t.s;return r<e.length&&(t.c=e[r],t.s=r+1,!0)},void 0)}function Br(e){return e instanceof Array?We(e):b(typeof e,"string")?He(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}function Ht(){return F("The input sequence has an insufficient number of elements.")}function Zr(e,t){let r=!0,n=0;for(;r&&n<A(t);)b(t[n],e)?r=!1:n=n+1;return!r}function zr(){return F("The input must be non-negative.")}let Re=g(e=>{var t;return t=class extends V{constructor(s){super();c(this,"d");this.d=s}GetEnumerator(){return D(ft(s=>s.K,this.d))}},Re=e(t),t});function Jr(e,t){return Zs(e,-2147483648,2147483647,t)}function Be(){return fs()}function pe(e){return te(()=>lt(Yr(()=>{},hs(e)),()=>(ds(e),Ft(null))))}function Xr(e,t){return Ze(en(e.$0,t.$0))}function Yr(e,t){const r=t.Duration;if(r===0)return Bt();{const n=s=>{function i(l){return o=>{const u=o-l;return t.Compute(u),u<=r?void requestAnimationFrame(h=>{i(l)(h)}):s()}}requestAnimationFrame(l=>{i(l)(l)})};return Ye((s,i,l)=>n.apply(null,[s,i,l]))}}function Ze(e){return{$:0,$0:e}}function Pt(e){return Ze(ys(ft($s,e)))}function ze(){return Me.BatchUpdatesEnabled}function _r(e){const t=[0];function r(){return te(()=>lt(e,()=>{const n=t[0];return b(n,1)?(t[0]=0,Bt()):b(n,2)?(t[0]=1,r()):Bt()}))}return()=>{const n=t[0];b(n,0)?(t[0]=1,ls(r())):b(n,1)&&(t[0]=2)}}let mt=g(e=>{var t;return t=class{constructor(){c(this,"c");c(this,"s");c(this,"v")}static Create(n){let s;return s=null,s=mt.New(n,null,()=>{let i;return i=s.s,i===null&&(i=pr(s.c()),s.s=i,De(i,()=>{s.s=null})),i}),s}static New(n,s,i){return J(mt,{c:n,s,v:i})}},mt=e(t),t}),_t=g(e=>{var t;return t=class{GetEnumerator(){return new B(this,null,n=>{const s=n.s;return s.$==0?!1:(n.c=s.$0,n.s=s.$1,!0)},void 0)}},_t=e(t),t});function Mr(e,t,r,n){const s={DynElem:e,DynFlags:t,DynNodes:r};return gt(s,"OnAfterRender",n),s}function Tt(e,t){return Et(t).join(e)}function X(e,t,r){return Lr(e,new RegExp("["+ts(t.join(""))+"]"),r)}function Rt(e,t){return e.substring(0,t.length)==t}function Lr(e,t,r){return r===1?dt(n=>n!=="",$e(e,t)):$e(e,t)}function ts(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function $e(e,t){return e.split(t)}function es(e,t){return kr(e,ns(t))}function ns(e){return e??""}function rs(e,t){return{PreviousNodes:e,Top:t}}function ss(){return pt(new q("New_3"))}function Je(e){const t=[];function r(i,l){for(;;)switch(i){case 0:if(l!=null&&l.$==0){const o=l.$1,u=l.$0;r(0,u),l=o}else if(l!=null&&l.$==1)l=l.$0,i=1;else if(l!=null&&l.$==2)l=l.$0.Current;else if(l!=null&&l.$==6){const o=l.$0.Holes;return(u=>h=>{Q(u,h)})(s)(o)}else return null;break;case 1:t.push(l),l=l.Children,i=0;break}}function n(i){return r(0,i)}function s(i){return r(1,i)}return n(e),pt(new q("New_2",t))}function pt(e){return{$:0,$0:e}}function Mt(e,t){return pt(Ks(e,t.$0))}function Xe(e,t){return pt(Ws(e.$0,t.$0))}function Lt(e){return et(e.$0)}function is(e,t){return pt(Hs(e.$0,t.$0))}function te(e){return t=>{try{e()(t)}catch(r){t.k(ne(r))}}}function lt(e,t){return os(r=>{e(on(n=>{if(n.$==0){const s=n.$0;tt().Fork(()=>{try{t(s)(r)}catch(i){r.k(ne(i))}})}else tt().Fork(()=>{r.k(n)})},r.ct))})}function Bt(){return Vt.Zero}function ls(e,t){const n=us()[0];tt().Fork(()=>{n.c||e(on(s=>{s.$==1&&cs(s.$0)},n))})}function Ft(e){return t=>{t.k(re(e))}}function tt(){return Vt.scheduler}function os(e){return t=>{t.ct.c?as(t):e(t)}}function us(){return Vt.defCTS}function cs(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function Ye(e){return t=>{const r=[!1],n=s=>{r[0]?F("A continuation provided by Async.FromContinuations was invoked multiple times"):(r[0]=!0,tt().Fork(s))};e(s=>{n(()=>{t.k(re(s))})},s=>{n(()=>{t.k(ne(s))})},s=>{n(()=>{t.k(un(s))})})}}function as(e){e.k(un(new an("New",e.ct)))}function fs(){return tn.UseAnimations}function hs(e){return ps(Fr(t=>t.$==1?m(t.$0):null,nn(e.$0)))}function ds(e){Q(t=>{t.$==0&&t.$0()},nn(e.$0))}function ps(e){const t=ht(e),r=A(t);if(r===0)return ws();if(r===1)return E(t,0);{const n=Ar(ft(i=>i.Duration,t)),s=nt(i=>ms(n,i),t);return _e(n,i=>{Q(l=>{l.Compute(i)},s)})}}function $s(e){return e.$0}function ws(e){return _e(0,()=>e)}function _e(e,t){return{Compute:t,Duration:e}}function ms(e,t){const r=t.Compute,n=t.Duration,s=_s(()=>t.Compute(t.Duration));return{Compute:i=>i>=n?s.f():r(i),Duration:e}}let Me=g(e=>{var t;return t=class{},Me=e(t),c(t,"BatchUpdatesEnabled"),t.BatchUpdatesEnabled=!0,t});function bs(e){return e.$==1?e.$0:Le()}function gs(e){return e.$==1?e.$1:Le()}function Le(){return F("The input list was empty.")}let x=g(e=>{var t;return t=class{},x=e(t),c(t,"FloatApplyChecked"),c(t,"FloatGetChecked"),c(t,"FloatSetChecked"),c(t,"FloatApplyUnchecked"),c(t,"FloatGetUnchecked"),c(t,"FloatSetUnchecked"),c(t,"IntApplyChecked"),c(t,"IntGetChecked"),c(t,"IntSetChecked"),c(t,"IntApplyUnchecked"),c(t,"IntGetUnchecked"),c(t,"IntSetUnchecked"),c(t,"FileApplyUnchecked"),c(t,"FileGetUnchecked"),c(t,"FileSetUnchecked"),c(t,"DateTimeApplyUnchecked"),c(t,"DateTimeGetUnchecked"),c(t,"DateTimeSetUnchecked"),c(t,"StringListApply"),c(t,"StringListGet"),c(t,"StringListSet"),c(t,"StringApply"),c(t,"StringGet"),c(t,"StringSet"),c(t,"BoolCheckedApply"),c(t,"EmptyAttr"),(()=>{t.EmptyAttr=null,t.BoolCheckedApply=a=>[w=>{w.addEventListener("change",()=>a.Get()!=w.checked?a.Set(w.checked):null)},w=>$=>$!=null&&$.$==1?void(w.checked=$.$0):null,Dt(m,a.View)],t.StringSet=a=>w=>{a.value=w},t.StringGet=a=>m(a.value);const n=vs(),s=Cs();t.StringApply=a=>z(n,s,a),t.StringListSet=a=>w=>{const $=a.options;for(let v=0,G=$.length-1;v<=G;v++)(()=>{const j=$.item(v);j.selected=Zr(j.value,w)})()},t.StringListGet=a=>{const w=a.selectedOptions;return m(Et(ae(()=>Nr($=>[w.item($).value],ie(0,w.length-1)))))};const i=Es(),l=As();t.StringListApply=a=>z(i,l,a),t.DateTimeSetUnchecked=a=>w=>{a.value=new Date(w).toLocaleString()},t.DateTimeGetUnchecked=a=>{let w,$;const v=a.value;if(st(v))return m(-864e13);{w=0;const G=Bs(v);return $=[G!=null&&G.$==1&&(w=G.$0,!0),w],$[0]?m($[1]):null}};const o=ks(),u=Ts();t.DateTimeApplyUnchecked=a=>z(o,u,a),t.FileSetUnchecked=()=>()=>null,t.FileGetUnchecked=a=>{const w=a.files;return m(Et(ae(()=>ft($=>w.item($),ie(0,w.length-1)))))};const h=Ss(),d=Ds();t.FileApplyUnchecked=a=>xs(h,d,a),t.IntSetUnchecked=a=>w=>{a.value=String(w)},t.IntGetUnchecked=a=>{const w=a.value;if(st(w))return m(0);{const $=+w;return $!==$>>0?null:m($)}};const N=Us(),f=Is();t.IntApplyUnchecked=a=>z(N,f,a),t.IntSetChecked=a=>w=>{const $=w.Input;return a.value!=$?void(a.value=$):null},t.IntGetChecked=a=>{let w,$;const v=a.value;if(st(v))w=!a.checkValidity||a.checkValidity()?K.Blank(v):K.Invalid(v);else{const G=($=0,[Jr(v,{get:()=>$,set:j=>{$=j}}),$]);w=G[0]?K.Valid(G[1],v):K.Invalid(v)}return m(w)};const p=Ps(),k=Gs();t.IntApplyChecked=a=>z(p,k,a),t.FloatSetUnchecked=a=>w=>{a.value=String(w)},t.FloatGetUnchecked=a=>{const w=a.value;if(st(w))return m(0);{const $=+w;return isNaN($)?null:m($)}};const S=Vs(),I=Fs();t.FloatApplyUnchecked=a=>z(S,I,a),t.FloatSetChecked=a=>w=>{const $=w.Input;return a.value!=$?void(a.value=$):null},t.FloatGetChecked=a=>{let w;const $=a.value;if(st($))w=!a.checkValidity||a.checkValidity()?K.Blank($):K.Invalid($);else{const v=+$;w=isNaN(v)?K.Invalid($):K.Valid(v,$)}return m(w)};const y=qs(),T=Os();t.FloatApplyChecked=a=>z(y,T,a)})(),t}),ee=g(e=>{var t;return t=class{},ee=e(t),c(t,"counter"),t.counter=0,t}),rt=g(e=>{var t;return t=class{},rt=e(t),c(t,"defaultWrap"),c(t,"wrapMap"),c(t,"rhtml"),c(t,"rtagName"),c(t,"rxhtmlTag"),(()=>{t.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),t.rtagName=new RegExp("<([\\w:]+)"),t.rhtml=new RegExp("<|&#?\\w+;");const n=[1,"<table>","</table>"];let s=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",n],["tbody",n],["tfoot",n],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);t.wrapMap=s,t.defaultWrap=[0,"",""]})(),t}),B=g(e=>{var t;return t=class extends V{constructor(s,i,l,o){super();c(this,"s");c(this,"c");c(this,"n");c(this,"d");c(this,"e");this.s=s,this.c=i,this.n=l,this.d=o,this.e=0}MoveNext(){const s=this.n(this);return this.e=s?1:2,s}get Current(){return this.e===1?this.c:this.e===0?F("Enumeration has not started. Call MoveNext."):F("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}},B=e(t),t}),tn=g(e=>{var t;return t=class{},tn=e(t),c(t,"UseAnimations"),c(t,"CubicInOut"),t.CubicInOut=ln.Custom(n=>{const s=n*n;return 3*s-2*(s*n)}),t.UseAnimations=!0,t});function en(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function nn(e){const t=[];function r(n){for(;;){if(n.$==1)return t.push(n.$0);if(n.$==2){const s=n.$1,i=n.$0;r(i),n=s}else return n.$==3?Q(s=>{t.push(s)},n.$0):null}}return r(e),t.slice(0)}function ys(e){const t=ht(e);return Xt(Ns(),en,t)}function Ns(){return fn.Empty}function z(e,t,r){let n;return n=null,[s=>{const i=()=>{r.UpdateMaybe(l=>{let o;return n=e(s),n!=null&&n.$==1&&!b(n.$0,l)&&(o=[n,n.$0],!0)?o[0]:null})};s.addEventListener("change",i),s.addEventListener("input",i),s.addEventListener("keypress",i)},s=>{const i=t(s);return l=>l==null?null:i(l.$0)},Dt(s=>n!=null&&n.$==1&&b(n.$0,s)&&(n.$0,!0)?null:m(s),r.View)]}function Cs(){return x.StringSet}function vs(){return x.StringGet}function As(){return x.StringListSet}function Es(){return x.StringListGet}function Ts(){return x.DateTimeSetUnchecked}function ks(){return x.DateTimeGetUnchecked}function xs(e,t,r){let n;return n=null,[s=>{s.addEventListener("change",()=>{r.UpdateMaybe(i=>{let l;return n=e(s),n!=null&&n.$==1&&n.$0!==i&&(l=[n,n.$0],!0)?l[0]:null})})},s=>{const i=t(s);return l=>l==null?null:i(l.$0)},Dt(s=>n!=null&&n.$==1&&b(n.$0,s)&&(n.$0,!0)?null:m(s),r.View)]}function Ds(){return x.FileSetUnchecked}function Ss(){return x.FileGetUnchecked}function Is(){return x.IntSetUnchecked}function Us(){return x.IntGetUnchecked}function Gs(){return x.IntSetChecked}function Ps(){return x.IntGetChecked}function Fs(){return x.FloatSetUnchecked}function Vs(){return x.FloatGetUnchecked}function Os(){return x.FloatSetChecked}function qs(){return x.FloatGetChecked}function st(e){return es(Rs,e)}let K=g(e=>{var t;return t=class{get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(n){return J(t,{$:2,$0:n})}static Invalid(n){return J(t,{$:1,$0:n})}static Valid(n,s){return J(t,{$:0,$0:n,$1:s})}},K=e(t),t});function Qs(e){e.splice(0,A(e))}let rn=g(e=>{var t;return xt(Error),t=class extends Error{static New(){return new this("New")}static New_1(n){return new this("New_1",n)}constructor(n,s){if(n=="New"&&(n="New_1",s="The given key was not present in the dictionary."),n=="New_1"){const i=s;super(i)}}},rn=e(t),t}),sn=g(e=>{var t;return t=class extends V{constructor(){super();c(this,"idle");c(this,"robin");this.idle=!0,this.robin=[]}Fork(s){this.robin.push(s),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){const s=Date.now();let i=!0;for(;i;)this.robin.length===0?(this.idle=!0,i=!1):(this.robin.shift()(),Date.now()-s>40&&(setTimeout(()=>{this.tick()},0),i=!1))}},sn=e(t),t}),ln=g(e=>{var t;return t=class extends V{constructor(s){super();c(this,"transformTime");this.transformTime=s}static Custom(s){return new t(s)}},ln=e(t),t});function on(e,t){return{k:e,ct:t}}function ne(e){return{$:1,$0:e}}function re(e){return{$:0,$0:e}}function un(e){return{$:2,$0:e}}let Vt=g(e=>{var t;return t=class{},Vt=e(t),c(t,"GetCT"),c(t,"Zero"),c(t,"defCTS"),c(t,"scheduler"),c(t,"noneCT"),t.noneCT=js(!1,[]),t.scheduler=new sn,t.defCTS=[new cn],t.Zero=Ft(),t.GetCT=n=>{n.k(re(n.ct))},t});function js(e,t){return{c:e,r:t}}function Ks(e,t){return new q("New_2",dt(e,et(t)))}function Ws(e,t){const r=new q("New_2",et(t));return r.ExceptWith(et(e)),r}function et(e){const t=Or(e.Count,void 0);return e.CopyTo(t,0),t}function Hs(e,t){const r=new q("New_2",et(e));return r.IntersectWith(et(t)),r}function qt(e){let t=[];for(var r in e)t.push.apply(t,e[r]);return t}function Rs(e){return e.match(new RegExp("\\s"))!==null}function Bs(e){const t=Date.parse(e);return isNaN(t)?null:m(t)}function Zs(e,t,r,n){const s=+e,i=s===s-s%1&&s>=t&&s<=r;return i&&n.set(s),i}let cn=g(e=>{var t;return t=class extends V{constructor(){super();c(this,"init");c(this,"c");c(this,"pending");c(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}},cn=e(t),t});function zs(e,t){let r;if(t!=null&&t.$==1){const n=[];for(r=t.$0[0].nextSibling;r!==t.$0[1];)n.push(r),r=r.nextSibling;return kt(n)}else{let n=e.childNodes.length;const s=e.childNodes;let i=qr(n,l=>s[l]);return kt(i)}}function Js(e,t){const r=e.$0;return kt(dt(n=>Qr(s=>n!==s,r),t.$0))}function Xs(e,t){Q(e,t.$0)}function Ys(e){const t=[];function r(n){for(;;)if(n!=null&&n.$==2)n=n.$0.Current;else{if(n!=null&&n.$==1)return t.push(n.$0.El);if(n==null)return null;if(n!=null&&n.$==5)return t.push(n.$0);if(n!=null&&n.$==4)return t.push(n.$0.Text);if(n!=null&&n.$==6){const s=n.$0.Els;return(i=>l=>{Q(i,l)})(i=>{i==null||i.constructor===Object?r(i):t.push(i)})(s)}else{const s=n.$1,i=n.$0;r(i),n=s}}}return r(e.Children),kt(ht(t))}function kt(e){return{$:0,$0:e}}let an=g(e=>{var r;return xt(Error),r=class extends Error{constructor(i,l,o,u){var s=(...t)=>(super(...t),c(this,"ct"),this);let h;if(i=="New"&&(h=l,i="New_1",l="The operation was canceled.",o=null,u=h),i=="New_1"){const d=l,N=o,f=u;s(d),this.inner=N,this.ct=f}}static New(i){return new this("New",i)}static New_1(i,l,o){return new this("New_1",i,l,o)}},an=e(r),r});function _s(e){return ti(!1,e,Ms)}function Ms(){const e=this.v();return this.c=!0,this.v=e,this.f=Ls,e}function Ls(){return this.v}let fn=g(e=>{var t;return t=class{},fn=e(t),c(t,"Empty"),t.Empty={$:0},t});function ti(e,t,r){return{c:e,v:t,f:r}}pn(()=>{wn()});$n();
